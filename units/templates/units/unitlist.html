{%extends 'base.html'%}
{%load static%}


{%block title%} Jednostki Policji w Województwie Wielkopolskim {%endblock%}

{%block content%}
<div class="text-center">
    <form>
        <div class="d-inline-block mx-4 md-3 text-center">
            <label for="county" class="county">Powiat</label>
            <select id="county" name="p" class="form-control" aria-label="Default select example">
                <option value="">--wybierz--</option>
                {%for district in county%}
                    <option value={{district.id}}>{{district}}</option>
                {%endfor%}
            </select>
        </div>
        <div class="d-inline-block mx-4 text-center">
            <label for="type" class="type">Rodzaj jednostki</label>
            <select id="type" name="r" class="form-control" aria-label="Default select example">
                <option value="">--wybierz--</option>
                {%for type in type_unit%}
                    <option value={{type.id}}>{{type}}</option>
                {%endfor%}
            </select>
        </div>
        <div class="d-inline-block mx-4">
            <button type="submit" class="btn btn-outline-primary">{{query}}{{search}}</button>
        </div>

    </form>
</div>
<h4 class="units-title">Ewidencja lokalizacji jednostek Policji</h4>
{% if search%}
<p><span>Liczba obiektów: {{unit_sum}}</span></p>
{%endif%}
{%if query%}
<p><span>Znaleziono {{unit_sum_search}} obiektów</span></p>
{%endif%}
<table class="table table-hover my-table">
    <thead>
    <tr class="my-table-tr">
        <th align="center" valign="middle" width="80px" scope="col" class="text-center">L.p.</th>
        <th align="center" valign="middle" width="120" scope="col" class="text-center">Powiat</th>
        <th align="center" valign="middle" width="100" scope="col" class="text-center">Rodzaj jednostki</th>
        <th align="center" valign="middle" width="300" scope="col" class="text-center">Adres</th>
        <th align="center" valign="middle" width="150" scope="col" class="text-center">Kod pocztowy</th>
        <th align="center" valign="middle" width="250" scope="col" class="text-center">Miasto</th>
        <th align="center" valign="middle" width="500" scope="col" class="text-center">Informacje</th>
        <th align="center" valign="middle" width="200" scope="col" class="text-center">Zarządca</th>
        <th align="center" valign="middle" width="50px" scope="col" class="text-center">Stan</th>
    </tr>
    </thead>
    <tbody>
    {%for unit in units %}
    <tr class="my-table-tr">
        <td align="center" valign="middle" class="text-center" scope="row" width="80px"></td>
        <td align="center" valign="middle" width="120">{{unit.county}}</td>
        <td align="center" valign="middle" class="text-center" title="{{unit.type.type_full}}">{{unit.type}}</td>
        <td valign="middle">{{unit.address}}</td>
        <td align="center" valign="middle" class="text-center">{{unit.zip_code}}</td>
        <td valign="middle" width="180">{{unit.city}}</td>
        <td valign="middle">{{unit.information}}</td>
        <td valign="middle">{{unit.manager}}</td>
        <td align="center" valign="middle">
            {%if unit.status == True%}
                Działający
            {%else%}
                Zdany
            {%endif%}
        </td>

    </tr>
    {%endfor%}
    </tbody>
    <tfoot>
    <tr>
        <th colspan="4" class="text-center">Wydział Inwestycji i Remontów KWP w Poznaniu</th>
    </tr>
    </tfoot>
</table>
<script>
     document.getElementById("button-units").classList.add("active");
     document.getElementById("button-invoices").classList.remove("active");
     document.getElementById("button-contracts").classList.remove("active");
     document.getElementById("button-contractors").classList.remove("active");
</script>
{%endblock%}